= Платформа

"Платформа" – модуль {dv}, являющийся основой Системы:

* предоставляет сервер приложений {dv};
* предоставляет среду функционирования других модулей;
* предоставляет компоненты базового API (необходимы для работы с сервером {dv});
* предоставляет системные типы карточек, которые добавляют сущности: папки, поисковые запросы, нумераторы, пользовательские настройки и др. (см. описание библиотеки карточек "Системные карточки");
* реализует функции хранения и доступа к данным системы {dv}, дискреционной и мандатной моделей безопасности, полнотекстового индексирования и др.

У модуля "Платформа" отсутствуют зависимости от других модулей {dv} – другие модули являются зависимыми от "Платформы".

Архитектура модуля представлена на следующей схеме.

image::platformModule.png[Архитектура модуля Платформа]

Модуль "Платформа" включает три сервиса:

* Сервер {dv} – реализует прикладные сервисы доступа к данным, разграничение прав доступа, управление пользовательскими сессиями и их контекстом и пр. Всё взаимодействие клиентских компонент системы и внешних приложений осуществляется через сервер приложения, который является основным инструментом контроля за доступом к данным.

Имеет две реализации:

* веб-сервис в IIS – функционирующий в среде выполнения IIS сервис; предоставляет доступ к серверу по протоколу HTTP/SOAP;
* служба Windows – предоставляет доступ к серверу по протоколу WCF.
* Сервис полнотекстового индексирования – передаёт во внешнюю индексирующую систему (Elasticsearch или SQL Server) данные карточек/файлов, для которых включено индексирование. Данный сервис обеспечивает работу полнотекстового поиска {dv}.

* Файловый сервис – реализует функции отложенного удаления и перемещения данных между хранилищами бинарных данных файлов. Этапы работы Файлового сервиса рассмотрены в пункте xref:BinaryStorage.adoc[Хранение бинарных данных файлов].

В Сервере {dv} можно выделить следующие составляющие:

* ядро сервера – обеспечивает среду выполнения других элементов;
* слой работы с данными – интерфейс доступа к базам данных {dv}: основной и сателлитным, а также репликам БД (если БД в режиме Microsoft SQL AlwaysOn);
* слой кэширования – интерфейс доступа к серверному кэшу, который может размещаться в оперативной памяти процесса сервера или во внешнем хранилище (предоставляется поддержка сетевого хранилища Redis);
* провайдеры к внешним хранилищам – обеспечивает доступ к xref:BinaryStorage.adoc[хранилищам с бинарными данными файлов], который могут размещаться в базе данных, файловой системе или другом типе хранилища;
* провайдер полнотекстового поиска – обеспечивает доступ к системе полнотекстового индексирования Microsoft SQL Server и Elasticsearch.